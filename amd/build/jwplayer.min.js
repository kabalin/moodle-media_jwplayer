define ("media_jwplayer/jwplayer",["jwplayer","jquery","core/ajax","core/log","module"],function(a,b,c,d,e){var f={context:null,eventMap:{started:"firstFrame",paused:"pause",seeked:"seek",resumed:"play",completed:"complete",failed:"error"},flipEventMap:{},init:function init(c,d){f.context=d;if(e.config().licensekey){a.key=e.config().licensekey}if(!b("#"+c.playerid).length){f.logError({type:"setupError",message:"The target element for player setup (#"+c.playerid+") is missing."});return}var g=a(c.playerid);g.setup(c.setupdata);if("undefined"!=typeof c.downloadbtn){g.addButton(c.downloadbtn.img,c.downloadbtn.tttext,function(){window.open(g.getPlaylistItem().file+"?forcedownload=true")},"download")}g.on("setupError",f.logError);g.on("error",f.logError);c.events.forEach(function(a){if("undefined"!==f.getEventName(a)){f.flipEventMap[f.getEventName(a)]=a;g.on(f.getEventName(a),f.logEvent)}})},getEventName:function getEventName(a){return f.eventMap[a]},logEvent:function logEvent(a){var e={context:f.context,event:f.flipEventMap[a.type],title:this.getPlaylistItem().file,position:parseInt(this.getPosition())};if("undefined"!=typeof this.getPlaylistItem().title){e.title=this.getPlaylistItem().title}if("seek"===a.type){e.offset=parseInt(a.offset)}if("error"!==a.type){b.when(c.call([{methodname:"media_jwplayer_playback_event",args:e}])[0]).fail(d.error)}},logError:function logError(a){if("error"===a.type){d.error("media_jwplayer error: "+a.message)}else if("setupError"===a.type){d.error("media_jwplayer setup error: "+a.message)}}};return{setupPlayer:f.init}});
//# sourceMappingURL=jwplayer.min.js.map
